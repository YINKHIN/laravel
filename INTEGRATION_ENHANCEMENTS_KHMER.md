# ប្រព័ន្ធគ្រប់គ្រងស្តុក - ការធ្វើឱ្យកាន់តែប្រសើរឡើងនៃការរួមបញ្ចូល

ឯកសារនេះរាយបញ្ជីលក្ខណៈពិសេសថ្មីៗដែលបានបន្ថែមសម្រាប់ប្រព័ន្ធគ្រប់គ្រងស្តុក។

## តារាង​មាតិកា
1. [ការរួមបញ្ចូលច្រកទូទាត់](#ការរួមបញ្ចូលច្រកទូទាត់)
2. [ការរួមបញ្ចូលកម្មវិធីគណនី](#ការរួមបញ្ចូលកម្មវិធីគណនី)
3. [ការរួមបញ្ចូលកម្មវិធីអ៊ី-កូម៉ឺស](#ការរួមបញ្ចូលកម្មវិធីអ៊ី-កូម៉ឺស)
4. [សេវាកម្មការជូនដំណឹងតាម SMS និងអ៊ីមែល](#សេវាកម្មការជូនដំណឹងតាម-សេវាកម្មការជូនដំណឹងតាម-សេវាកម្មការជូនដំណឹងតាម)
5. [ចំណុចប្រទាក់ API](#ចំណុចប្រទាក់-api)
6. [ការកំណត់បរិស្ថាន](#ការកំណត់បរិស្ថាន)

## ការរួមបញ្ចូលច្រកទូទាត់

### ការរួមបញ្ចូល PayPal

ប្រព័ន្ធបានគាំទ្រការទូទាត់តាម PayPal តាមរយៈ PayPal Checkout API។

**លក្ខណៈពិសេស៖**
- បង្កើតការទូទាត់តាម PayPal
- ចាប់យកការទូទាត់តាម PayPal
- គាំទ្រសម្រាប់បរិស្ថាន sandbox និង live

**តម្រូវ​ការ៖**
- គណនីធុរកិច្ច PayPal
- លេខសម្គាល់អតិថិជន និងសំងាត់ពីផ្ទះការងារអ្នកអភិវឌ្ឍន៍ PayPal

### ការរួមបញ្ចូល Stripe

ប្រព័ន្ធបានគាំទ្រការទូទាត់តាម Stripe តាមរយៈ Stripe API។

**លក្ខណៈពិសេស៖**
- ដំណើរការការទូទាត់តាម Stripe
- បង្កើតគោលបំណងការទូទាត់តាម Stripe
- គាំទ្រសម្រាប់វិធីសាស្ត្រទូទាត់ផ្សេងៗ

**តម្រូវ​ការ៖**
- គណនី Stripe
- សោរសំងាត់ពីផ្ទះការងារ Stripe

## ការរួមបញ្ចូលកម្មវិធីគណនី

### ការរួមបញ្ចូល QuickBooks

ប្រព័ន្ធអាចធ្វើសមកាលកម្មទិន្នន័យជាមួយ QuickBooks Online បានហើយ។

**លក្ខណៈពិសេស៖**
- បង្កើតវិក្កយបត្រនៅក្នុង QuickBooks
- បង្កើតអតិថិជននៅក្នុង QuickBooks
- ទាញយកព័ត៌មានអតិថិជន

**តម្រូវ​ការ៖**
- គណនី QuickBooks Online
- កម្មវិធី QuickBooks ដែលបានកំណត់រចនាសម្ព័ន្ធនៅក្នុងផ្ទះការងារអ្នកអភិវឌ្ឍន៍
- លិខិតសម្គាល់ OAuth2

### ការរួមបញ្ចូល Xero

ប្រព័ន្ធអាចធ្វើសមកាលកម្មទិន្នន័យជាមួយ Xero បានហើយ។

**លក្ខណៈពិសេស៖**
- បង្កើតវិក្កយបត្រនៅក្នុង Xero
- បង្កើតទំនាក់ទំនងនៅក្នុង Xero
- ទាញយកព័ត៌មានទំនាក់ទំនង

**តម្រូវ​ការ៖**
- គណនី Xero
- កម្មវិធី Xero ដែលបានកំណត់រចនាសម្ព័ន្ធនៅក្នុងផ្ទះការងារអ្នកអភិវឌ្ឍន៍
- លិខិតសម្គាល់ OAuth2

## ការរួមបញ្ចូលកម្មវិធីអ៊ី-កូម៉ឺស

### ការរួមបញ្ចូល Shopify

ប្រព័ន្ធអាចធ្វើសមកាលកម្មផលិតផល និងស្តុកជាមួយ Shopify បានហើយ។

**លក្ខណៈពិសេស៖**
- ធ្វើសមកាលកម្មផលិតផលទៅកាន់ Shopify
- ធ្វើបច្ចុប្បន្នភាពកម្រិតស្តុក
- ទាញយកព័ត៌មានផលិតផល

**តម្រូវ​ការ៖**
- ហាង Shopify
- កម្មវិធីឯកជនដែលមានសិទ្ធិត្រឹមត្រូវ
- លិខិតសម្គាល់ការចូល

### ការរួមបញ្ចូល WooCommerce

ប្រព័ន្ធអាចធ្វើសមកាលកម្មផលិតផល និងស្តុកជាមួយ WooCommerce បានហើយ។

**លក្ខណៈពិសេស៖**
- ធ្វើសមកាលកម្មផលិតផលទៅកាន់ WooCommerce
- ធ្វើបច្ចុប្បន្នភាពកម្រិតស្តុក
- ទាញយកព័ត៌មានផលិតផល

**តម្រូវ​ការ៖**
- ហាង WooCommerce
- លិខិតសម្គាល់ REST API
- លេខសម្គាល់អ្នកប្រើប្រាស់ និងសំងាត់

## សេវាកម្មការជូនដំណឹងតាម SMS និងអ៊ីមែល

### ការរួមបញ្ចូល Twilio SMS

ប្រព័ន្ធអាចផ្ញើការជូនដំណឹងតាម SMS តាមរយៈ Twilio បានហើយ។

**លក្ខណៈពិសេស៖**
- ផ្ញើការជូនដំណឹងតាម SMS សម្រាប់ស្តុកទាប
- ផ្ញើការបញ្ជាក់ការបញ្ជាទិញ
- ផ្ញើសារ SMS ផ្ទាល់ខ្លួន

**តម្រូវ​ការ៖**
- គណនី Twilio
- លេខសម្គាល់ Twilio និងលិខិតសម្គាល់ផ្ទៀងផ្ទាត់
- លេខទូរសព្ទ Twilio

### ការរួមបញ្ចូល SendGrid Email

ប្រព័ន្ធអាចផ្ញើការជូនដំណឹងតាមអ៊ីមែលតាមរយៈ SendGrid បានហើយ។

**លក្ខណៈពិសេស៖**
- ផ្ញើការជូនដំណឹងតាមអ៊ីមែលសម្រាប់ស្តុកទាប
- ផ្ញើការបញ្ជាក់ការបញ្ជាទិញ
- ផ្ញើសារអ៊ីមែលផ្ទាល់ខ្លួន

**តម្រូវ​ការ៖**
- គណនី SendGrid
- សោរ API SendGrid

## ចំណុចប្រទាក់ API

### ចំណុចប្រទាក់ច្រកទូទាត់

#### ដំណើរការការទូទាត់តាម PayPal
```
POST /api/integrations/payments/paypal/process
```
ប៉ារ៉ាម៉ែត្រ៖
- `amount` (ត្រូវការ)៖ ចំនួនទឹកប្រាក់ទូទាត់
- `currency` (ត្រូវការ)៖ កូដរូបិយប័ណ្ណ (ឧ. USD)
- `description` (ត្រូវការ)៖ ការពិពណ៌នាការទូទាត់
- `return_url` (ត្រូវការ)៖ URL ដើម្បីបញ្ជូនបន្តក្រោយពេលទូទាត់ដោយជោគជ័យ
- `cancel_url` (ត្រូវការ)៖ URL ដើម្បីបញ្ជូនបន្តក្រោយពេលបោះបង់ការទូទាត់

#### ចាប់យកការទូទាត់តាម PayPal
```
POST /api/integrations/payments/paypal/capture
```
ប៉ារ៉ាម៉ែត្រ៖
- `order_id` (ត្រូវការ)៖ លេខសម្គាល់ការបញ្ជាទិញ PayPal

#### ដំណើរការការទូទាត់តាម Stripe
```
POST /api/integrations/payments/stripe/process
```
ប៉ារ៉ាម៉ែត្រ៖
- `amount` (ត្រូវការ)៖ ចំនួនទឹកប្រាក់ទូទាត់
- `currency` (ត្រូវការ)៖ កូដរូបិយប័ណ្ណ (ឧ. USD)
- `source` (ត្រូវការ)៖ ប្រភពទូទាត់ (លិខិតសម្គាល់ ឬលេខសម្គាល់កាត)
- `description` (ជាជម្រើស)៖ ការពិពណ៌នាការទូទាត់

#### បង្កើតគោលបំណងការទូទាត់តាម Stripe
```
POST /api/integrations/payments/stripe/intent
```
ប៉ារ៉ាម៉ែត្រ៖
- `amount` (ត្រូវការ)៖ ចំនួនទឹកប្រាក់ទូទាត់
- `currency` (ត្រូវការ)៖ កូដរូបិយប័ណ្ណ (ឧ. USD)
- `metadata` (ជាជម្រើស)៖ ទិន្នន័យបន្ថែម

### ចំណុចប្រទាក់រួមបញ្ចូលគណនី

#### បង្កើតវិក្កយបត្រ QuickBooks
```
POST /api/integrations/accounting/quickbooks/invoice
```
ប៉ារ៉ាម៉ែត្រ៖
- `customer_id` (ត្រូវការ)៖ លេខសម្គាល់អតិថិជន QuickBooks
- `line_items` (ត្រូវការ)៖ អារេនៃធាតុបន្ទាត់
- `due_date` (ជាជម្រើស)៖ កាលបរិច្ឆេទផុតកំណត់វិក្កយបត្រ
- `memo` (ជាជម្រើស)៖ កំណត់ចំណាំវិក្កយបត្រ

#### បង្កើតអតិថិជន QuickBooks
```
POST /api/integrations/accounting/quickbooks/customer
```
ប៉ារ៉ាម៉ែត្រ៖
- `name` (ត្រូវការ)៖ ឈ្មោះអតិថិជន
- `email` (ត្រូវការ)៖ អ៊ីមែលអតិថិជន
- `phone` (ជាជម្រើស)៖ ទូរសព្ទអតិថិជន
- `billing_address` (ជាជម្រើស)៖ អាសយដ្ឋានចេញវិក្កយបត្រអតិថិជន

#### បង្កើតវិក្កយបត្រ Xero
```
POST /api/integrations/accounting/xero/invoice
```
ប៉ារ៉ាម៉ែត្រ៖
- `contact_id` (ត្រូវការ)៖ លេខសម្គាល់ទំនាក់ទំនង Xero
- `line_items` (ត្រូវការ)៖ អារេនៃធាតុបន្ទាត់
- `date` (ជាជម្រើស)៖ កាលបរិច្ឆេទវិក្កយបត្រ
- `due_date` (ជាជម្រើស)៖ កាលបរិច្ឆេទផុតកំណត់វិក្កយបត្រ
- `reference` (ជាជម្រើស)៖ កំណត់យោងវិក្កយបត្រ

#### បង្កើតទំនាក់ទំនង Xero
```
POST /api/integrations/accounting/xero/contact
```
ប៉ារ៉ាម៉ែត្រ៖
- `name` (ត្រូវការ)៖ ឈ្មោះទំនាក់ទំនង
- `email_address` (ត្រូវការ)៖ អ៊ីមែលទំនាក់ទំនង
- `phone_number` (ជាជម្រើស)៖ ទូរសព្ទទំនាក់ទំនង
- `addresses` (ជាជម្រើស)៖ អារេនៃអាសយដ្ឋាន

### ចំណុចប្រទាក់រួមបញ្ចូលអ៊ី-កូម៉ឺស

#### ធ្វើសមកាលកម្មផលិតផលទៅកាន់ Shopify
```
POST /api/integrations/ecommerce/shopify/sync-product
```
ប៉ារ៉ាម៉ែត្រ៖
- `title` (ត្រូវការ)៖ ចំណងជើងផលិតផល
- `body_html` (ជាជម្រើស)៖ ការពិពណ៌នាផលិតផល
- `vendor` (ជាជម្រើស)៖ អ្នកលក់ផលិតផល
- `product_type` (ជាជម្រើស)៖ ប្រភេទផលិតផល
- `variants` (ត្រូវការ)៖ អារេនៃផលិតផលបម្លាស់ប្ដូរ
- `images` (ជាជម្រើស)៖ អារេនៃរូបភាពផលិតផល

#### ធ្វើបច្ចុប្បន្នភាពស្តុក Shopify
```
PUT /api/integrations/ecommerce/shopify/inventory/{product_id}
```
ប៉ារ៉ាម៉ែត្រ៖
- `variants` (ត្រូវការ)៖ អារេនៃផលិតផលបម្លាស់ប្ដូរដែលមានបរិមាណស្តុក

#### ធ្វើសមកាលកម្មផលិតផលទៅកាន់ WooCommerce
```
POST /api/integrations/ecommerce/woocommerce/sync-product
```
ប៉ារ៉ាម៉ែត្រ៖
- `name` (ត្រូវការ)៖ ឈ្មោះផលិតផល
- `type` (ជាជម្រើស)៖ ប្រភេទផលិតផល
- `regular_price` (ត្រូវការ)៖ តម្លៃផលិតផល
- `description` (ជាជម្រើស)៖ ការពិពណ៌នាផលិតផល
- `short_description` (ជាជម្រើស)៖ ការពិពណ៌នាខ្លីផលិតផល
- `categories` (ជាជម្រើស)៖ អារេនៃប្រភេទ
- `images` (ជាជម្រើស)៖ អារេនៃរូបភាព
- `manage_stock` (ជាជម្រើស)៖ ថាតើត្រូវគ្រប់គ្រងស្តុកឬអត់
- `stock_quantity` (ជាជម្រើស)៖ បរិមាណស្តុក
- `sku` (ជាជម្រើស)៖ លេខកូដផលិតផល

#### ធ្វើបច្ចុប្បន្នភាពស្តុក WooCommerce
```
PUT /api/integrations/ecommerce/woocommerce/inventory/{product_id}
```
ប៉ារ៉ាម៉ែត្រ៖
- `stock_quantity` (ត្រូវការ)៖ បរិមាណស្តុកថ្មី
- `manage_stock` (ជាជម្រើស)៖ ថាតើត្រូវគ្រប់គ្រងស្តុកឬអត់

### ចំណុចប្រទាក់សេវាកម្មជូនដំណឹង

#### ផ្ញើ SMS
```
POST /api/integrations/notifications/sms/send
```
ប៉ារ៉ាម៉ែត្រ៖
- `to` (ត្រូវការ)៖ លេខទូរសព្ទអ្នកទទួល
- `message` (ត្រូវការ)៖ ខ្លឹមសារ SMS

#### ផ្ញើអ៊ីមែល
```
POST /api/integrations/notifications/email/send
```
ប៉ារ៉ាម៉ែត្រ៖
- `to` (ត្រូវការ)៖ អាសយដ្ឋានអ៊ីមែលអ្នកទទួល
- `subject` (ត្រូវការ)៖ ប្រធានបទអ៊ីមែល
- `content` (ត្រូវការ)៖ ខ្លឹមសារអ៊ីមែល (HTML)
- `from` (ជាជម្រើស)៖ អាសយដ្ឋានអ៊ីមែលអ្នកផ្ញើ

#### ផ្ញើការជូនដំណឹងស្តុកទាប
```
POST /api/integrations/notifications/alerts/low-stock
```
ប៉ារ៉ាម៉ែត្រ៖
- `product` (ត្រូវការ)៖ ព័ត៌មានផលិតផល
- `recipient_phone` (ជាជម្រើស)៖ លេខទូរសព្ទអ្នកទទួល
- `recipient_email` (ជាជម្រើស)៖ អាសយដ្ឋានអ៊ីមែលអ្នកទទួល

#### ផ្ញើការបញ្ជាក់ការបញ្ជាទិញ
```
POST /api/integrations/notifications/alerts/order-confirmation
```
ប៉ារ៉ាម៉ែត្រ៖
- `order` (ត្រូវការ)៖ ព័ត៌មានការបញ្ជាទិញ
- `customer_phone` (ជាជម្រើស)៖ លេខទូរសព្ទអតិថិជន
- `customer_email` (ជាជម្រើស)៖ អាសយដ្ឋានអ៊ីមែលអតិថិជន

## ការកំណត់បរិស្ថាន

ដើម្បីប្រើលក្ខណៈពិសេសរួមបញ្ចូលទាំងនេះ អ្នកត្រូវកំណត់លិខិតសម្គាល់បរិស្ថានដូចខាងក្រោមនៅក្នុងឯកសារ `.env` របស់អ្នក៖

### ការកំណត់ PayPal
```env
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_SECRET=your_paypal_secret
PAYPAL_MODE=sandbox # ឬ 'live'
```

### ការកំណត់ Stripe
```env
STRIPE_SECRET_KEY=your_stripe_secret_key
```

### ការកំណត់ QuickBooks
```env
QUICKBOOKS_CLIENT_ID=your_quickbooks_client_id
QUICKBOOKS_CLIENT_SECRET=your_quickbooks_client_secret
QUICKBOOKS_REALM_ID=your_quickbooks_realm_id
QUICKBOOKS_ACCESS_TOKEN=your_quickbooks_access_token
```

### ការកំណត់ Xero
```env
XERO_CLIENT_ID=your_xero_client_id
XERO_CLIENT_SECRET=your_xero_client_secret
XERO_TENANT_ID=your_xero_tenant_id
```

### ការកំណត់ Shopify
```env
SHOPIFY_ACCESS_TOKEN=your_shopify_access_token
SHOPIFY_SHOP_NAME=your_shopify_shop_name
```

### ការកំណត់ WooCommerce
```env
WOOCOMMERCE_URL=your_woocommerce_url
WOOCOMMERCE_CONSUMER_KEY=your_woocommerce_consumer_key
WOOCOMMERCE_CONSUMER_SECRET=your_woocommerce_consumer_secret
```

### ការកំណត់ Twilio
```env
TWILIO_SID=your_twilio_sid
TWILIO_TOKEN=your_twilio_token
TWILIO_FROM_NUMBER=your_twilio_phone_number
```

### ការកំណត់ SendGrid
```env
SENDGRID_API_KEY=your_sendgrid_api_key
```

## កំណត់សំគាល់អំពីការអន្តរួមបញ្ចូល

1. សេវាកម្មរួមបញ្ចូលទាំងអស់ត្រូវបានអន្តរួមបញ្ចូលជាថ្នាក់ដោយឡែកក្នុង namespace `App\Services`
2. បញ្ជាការត្រូវបានបង្កើតសម្រាប់ប្រភេទរួមបញ្ចូលនីមួយៗដើម្បីដោះស្រាយសំណើ API
3. ចំណុចប្រទាក់ទាំងអស់ទាមទារការផ្ទៀងផ្ទាត់ភាពត្រឹមត្រូវតាមរយៈ Laravel Sanctum
4. ការផ្ទៀងផ្ទាត់ត្រឹមត្រូវត្រូវបានអន្តរួមបញ្ចូលសម្រាប់ប៉ារ៉ាម៉ែត្រសំណើទាំងអស់
5. ការដោះស្រាយកំហុស និងការកត់ត្រាត្រូវបានអន្តរួមបញ្ចូលសម្រាប់ចំណុចរួមបញ្ចូលទាំងអស់
6. លិខិតសម្គាល់បរិស្ថានត្រូវបានប្រើសម្រាប់ទិន្នន័យកំណត់រចនាសម្ព័ន្ធទាំងអស់ដែលមានភាព sensible

## ការពិចារណាចំពោះសន្តិសុខ

1. សោរ API និងសំងាត់ទាំងអស់គួរត្រូវបានរក្សាទុកយ៉ាងមានសុវត្ថិភាពនៅក្នុងលិខិតសម្គាល់បរិស្ថាន
2. គួរប្រើ HTTPS សម្រាប់ចំណុចប្រទាក់រួមបញ្ចូលទាំងអស់
3. ការផ្ទៀងផ្ទាត់ភាពត្រឹមត្រូវ និងការអនុញ្ញាតគួរត្រូវបានអន្តរួមបញ្ចូលយ៉ាងត្រឹមត្រូវ
4. ការកំណត់ដែនកំណត់អាចត្រូវបានគិតអំពីសម្រាប់ការហៅ API ខាងក្រៅ
5. ទិន្នន័យដែលមានភាព sensitive មិនគួរត្រូវបានកត់ត្រាទេ

## ការធ្វើតេស្ត

ដើម្បីធ្វើតេស្តការរួមបញ្ចូលទាំងនេះ៖

1. កំណត់លិខិតសម្គាល់បរិស្ថានដែលត្រូវការ
2. ប្រើចំណុចប្រទាក់ API ដូចបានឯកសារនៅខាងលើ
3. ពិនិត្យកំណត់ហេតុ Laravel សម្រាប់សារកំហុសរួមបញ្ចូលណាមួយ
4. ផ្ទៀងផ្ទាត់ថាទិន្នន័យត្រូវបានធ្វើសមកាលកម្មរវាងប្រព័ន្ធដោយត្រឹមត្រូវ

## ការគាំទ្រ

សម្រាប់បញ្ហាជាមួយការរួមបញ្ចូលទាំងនេះ សូមពិនិត្យ៖
1. ថាលិខិតសម្គាល់បរិស្ថានទាំងអស់ត្រូវបានកំណត់រចនាសម្ព័ន្ធយ៉ាងត្រឹមត្រូវ
2. ថាអ្នកមានសិទ្ធិ និងលិខិតសម្គាល់ដែលចាំបាច់
3. កំណត់ហេតុ Laravel សម្រាប់សារកំហុសលម្អិត
4. ឯកសារសម្រាប់សេវាកម្មខាងក្រៅដែលកំពុងត្រូវបានរួមបញ្ចូល